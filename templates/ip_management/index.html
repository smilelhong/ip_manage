<%inherit file="/ip_base.html"/>

    <%block name='content'>
    <div class="wrapper wrapper-content">
        <div class="row">
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-success pull-right">IP_All</span>
                        <h5>IP总数</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins"><a href="/users/user">255</a></h1>
                        <small>All IP</small>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-info pull-right">IP_Use</span>
                        <h5>已使用IP</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins"><a href=#>100</a></h1>
                        <small>Use IP</small>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-primary pull-right">Unfinished</span>
                        <h5>未完申请</h5>
                    </div>
                    <div class="ibox-content">
                        <h1 class="no-margins"><a href=#> <span id="online_users"></span>2</a></h1>
                        <small>Unfinish Apply</small>
                    </div>
                </div>
            </div>
            <div class="col-sm-3">
                <div class="ibox float-e-margins">
                    <div class="ibox-title">
                        <span class="label label-danger pull-right">All Apply</span>
                        <h5>已完申请</h5>
                    </div>
                    <div class="ibox-content">
                            <h1 class="no-margins"><a href="/terminal/session-online/"> <span id="online_hosts"></span>0</a></h1>
                        <small>Finished Apply</small>
                    </div>
                </div>
            </div>
        </div>

        <div class="row border-bottom white-bg dashboard-header">
            <div class="col-md-3">
                <h2>欢迎使用IP管理系统</h2>
                <small>最近IP申请记录</small>
                <ul class="list-group clear-list m-t">
                    <li class="list-group-item fist-item">
                        <span class="pull-right">
                            09:00 pm
                        </span>
                        <span class="label label-success">1</span>xxx申请管理IP地址5个
                    </li>
                    <li class="list-group-item">
                        <span class="pull-right">
                            10:16 am
                        </span>
                        <span class="label label-info">2</span>xxx申请外网IP地址6个
                    </li>
                    <li class="list-group-item">
                        <span class="pull-right">
                            08:22 pm
                        </span>
                        <span class="label label-primary">3</span>xxx申请互联IP地址19个
                    </li>
                    <li class="list-group-item">
                        <span class="pull-right">
                            11:06 pm
                        </span>
                        <span class="label label-default">4</span>xxx申请管理IP地址11个
                    </li>
                    <li class="list-group-item">
                        <span class="pull-right">
                            12:00 am
                        </span>
                        <span class="label label-primary">5</span>xxx申请管理IP地址100个
                    </li>
                </ul>
            </div>
            <div class="col-md-6">
                <div class="flot-chart dashboard-chart">
                    <div class="flot-chart-content" id="flot-dashboard-chart"></div>
                </div>
                <div class="row text-left">
                    <div class="col-xs-4">
                        <div class=" m-l-md">
                        <span class="h4 font-bold m-t block">1024</span>
                        <small class="text-muted m-b block">可用IP总数</small>
                        </div>
                    </div>
                    <div class="col-xs-4">
                        <span class="h4 font-bold m-t block">245</span>
                        <small class="text-muted m-b block">已使用IP数量</small>
                    </div>
                    <div class="col-xs-4">
                        <span class="h4 font-bold m-t block">789</span>
                        <small class="text-muted m-b block">剩余IP数量</small>
                    </div>

                </div>
            </div>
            <div class="col-md-3">
                <div class="statistic-box">
                <h4>
                    IP详情统计
                </h4>
                    <div class="row text-center">
                        <div class="col-lg-6">
                            <canvas id="doughnutChart2" width="80" height="80" style="margin: 18px auto 0"></canvas>
                            <h5 >Kolter</h5>
                        </div>
                        <div class="col-lg-6">
                            <canvas id="doughnutChart" width="80" height="80" style="margin: 18px auto 0"></canvas>
                            <h5 >Maxtor</h5>
                        </div>
                    </div>
                    <div class="m-t">
                        <small>目前IP剩余较多，满足基本需求。</small>
                    </div>

                </div>
            </div>
        </div>
    </div>
    </%block>

    <%block name='foot_js'>
    <!-- Mainly scripts -->
    <script src="${STATIC_URL}static/js/jquery-3.1.1.min.js"></script>
    <script src="${STATIC_URL}static/js/bootstrap.min.js"></script>
    <script src="${STATIC_URL}static/js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="${STATIC_URL}static/js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <!-- Flot -->
    <script src="${STATIC_URL}static/js/plugins/flot/jquery.flot.js"></script>
    <script src="${STATIC_URL}static/js/plugins/flot/jquery.flot.tooltip.min.js"></script>
    <script src="${STATIC_URL}static/js/plugins/flot/jquery.flot.spline.js"></script>
    <script src="${STATIC_URL}static/js/plugins/flot/jquery.flot.resize.js"></script>
    <script src="${STATIC_URL}static/js/plugins/flot/jquery.flot.pie.js"></script>

    <!-- Peity -->
    <script src="${STATIC_URL}static/js/plugins/peity/jquery.peity.min.js"></script>
    <script src="${STATIC_URL}static/js/demo/peity-demo.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="${STATIC_URL}static/js/inspinia.js"></script>
    <script src="${STATIC_URL}static/js/plugins/pace/pace.min.js"></script>

    <!-- jQuery UI -->
    <script src="${STATIC_URL}static/js/plugins/jquery-ui/jquery-ui.min.js"></script>

    <!-- GITTER -->
    <script src="${STATIC_URL}static/js/plugins/gritter/jquery.gritter.min.js"></script>

    <!-- Sparkline -->
    <script src="${STATIC_URL}static/js/plugins/sparkline/jquery.sparkline.min.js"></script>

    <!-- Sparkline demo data  -->
    <script src="${STATIC_URL}static/js/demo/sparkline-demo.js"></script>

    <!-- ChartJS-->
    <script src="${STATIC_URL}static/js/plugins/chartJs/Chart.min.js"></script>

    <!-- Toastr -->
    <script src="${STATIC_URL}static/js/plugins/toastr/toastr.min.js"></script>


    <script>
        $(document).ready(function() {
            setTimeout(function() {
                toastr.options = {
                    closeButton: true,
                    progressBar: true,
                    showMethod: 'slideDown',
                    timeOut: 4000
                };
                toastr.success('Created by Henry', '欢迎使用IP管理系统');

            }, 1300);


            var data1 = [
                [0,4],[1,8],[2,5],[3,10],[4,4],[5,16],[6,5],[7,11],[8,6],[9,11],[10,30],[11,10],[12,13],[13,4],[14,3],[15,3],[16,6]
            ];
            var data2 = [
                [0,1],[1,0],[2,2],[3,0],[4,1],[5,3],[6,1],[7,5],[8,2],[9,3],[10,2],[11,1],[12,0],[13,2],[14,8],[15,0],[16,0]
            ];
            $("#flot-dashboard-chart").length && $.plot($("#flot-dashboard-chart"), [
                data1, data2
            ],
                    {
                        series: {
                            lines: {
                                show: false,
                                fill: true
                            },
                            splines: {
                                show: true,
                                tension: 0.4,
                                lineWidth: 1,
                                fill: 0.4
                            },
                            points: {
                                radius: 0,
                                show: true
                            },
                            shadowSize: 2
                        },
                        grid: {
                            hoverable: true,
                            clickable: true,
                            tickColor: "#d5d5d5",
                            borderWidth: 1,
                            color: '#d5d5d5'
                        },
                        colors: ["#1ab394", "#1C84C6"],
                        xaxis:{
                        },
                        yaxis: {
                            ticks: 4
                        },
                        tooltip: false
                    }
            );

            var doughnutData = {
                labels: ["App","Software","Laptop" ],
                datasets: [{
                    data: [300,50,100],
                    backgroundColor: ["#a3e1d4","#dedede","#9CC3DA"]
                }]
            } ;


            var doughnutOptions = {
                responsive: false,
                legend: {
                    display: false
                }
            };


            var ctx4 = document.getElementById("doughnutChart").getContext("2d");
            new Chart(ctx4, {type: 'doughnut', data: doughnutData, options:doughnutOptions});

            var doughnutData = {
                labels: ["App","Software","Laptop" ],
                datasets: [{
                    data: [70,27,85],
                    backgroundColor: ["#a3e1d4","#dedede","#9CC3DA"]
                }]
            } ;


            var doughnutOptions = {
                responsive: false,
                legend: {
                    display: false
                }
            };


            var ctx4 = document.getElementById("doughnutChart2").getContext("2d");
            new Chart(ctx4, {type: 'doughnut', data: doughnutData, options:doughnutOptions});

        });
    </script>
    </%block>

